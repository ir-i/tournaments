
{% extends 'base_layout.html' %}

{% load reports_extras %}

{% block content %}

    <div class="tournaments">
    {% for tournament in tournaments %}
        <div class="tournament">
        <p>{{ tournament.shortname_ru }}</p>
        <p>{{ tournament.name_ru }}</p>
        {% if user.is_authenticated %}
            {% if can_register|getkey:tournament.id == 0 %}
                <button type="button">
                    <a href="{% url 'reports:register' tournament.id %}">Зарегистрироваться</a>
                </button>
            {% endif %}
            {% if can_unregister|getkey:tournament.id == 0 %}
                <button type="button">
                    <a href="{% url 'reports:unregister' tournament.id %}">Отменить регистрацию на турнир</a>
                </button>
            {% endif %}
        {% endif %}
        </div>
    {% endfor %}
    </div>

{% endblock %}